<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Viewer</title>
</head>
<body>
  <script>

    function parseAddress(url) {
      var parsedUrl, parsedQuery, parsedFragment, parsedVariables, parsedData = {}, current;

      if(typeof url != "string") {
        throw new TypeError("Invalid input");
      }

      if(url.contains("?")) {
        parsedQuery = url.split("?")[1] && url.split("?")[1].split("#")[0]; // i am not proud of this
        parsedVariables = parsedQuery ? parsedQuery.split("&") : []; // edge cases like viewer.html?#

        for(var i = 0; i < parsedVariables.length; i++) {
          current = parsedVariables[i].split("=");
          parsedData[current[0]] = current[1] || true;
        }
      }

      if(url.contains("#")) {
        parsedFragment = url.split("#")[1];
        if(parsedFragment) {
          parsedData["#"] = parsedFragment;
        }
      }
      
      return parsedData;
    }

  </script>
</body>
</html>